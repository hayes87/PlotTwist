<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - Teste Modo Multi-Usu√°rio</title>
    
    <!-- CSS Original -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="voice-styles.css">
    <link rel="stylesheet" href="voice-multiuser-styles.css">
    
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* Estilos de demonstra√ß√£o */
        .demo-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .demo-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .demo-section h3 {
            color: #495057;
            margin-bottom: 15px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .feature-card h4 {
            color: #007bff;
            margin-bottom: 10px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 5px 0;
            border-bottom: 1px solid #f1f3f4;
        }
        
        .feature-list li:before {
            content: "‚úì ";
            color: #28a745;
            font-weight: bold;
        }
        
        .demo-controls {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .btn-demo {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn-demo:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        
        .btn-demo.danger {
            background: #dc3545;
        }
        
        .btn-demo.danger:hover {
            background: #c82333;
        }
        
        .btn-demo.success {
            background: #28a745;
        }
        
        .btn-demo.success:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1>üé§ Sistema de Reconhecimento de Voz Multi-Usu√°rio</h1>
        <p>Demonstra√ß√£o das funcionalidades avan√ßadas para ambientes com m√∫ltiplas pessoas</p>
    </div>

    <div class="container">
        <!-- Painel de controle ser√° inserido automaticamente aqui -->
        
        <div class="demo-section">
            <h3>üéØ Funcionalidades do Modo Multi-Usu√°rio</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üîß Filtros Inteligentes</h4>
                    <ul class="feature-list">
                        <li>Threshold de confian√ßa adaptativo</li>
                        <li>Filtragem de ru√≠do comum</li>
                        <li>Controle de comprimento de texto</li>
                        <li>Detec√ß√£o de repeti√ß√µes</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h4>‚è±Ô∏è Controle Temporal</h4>
                    <ul class="feature-list">
                        <li>Cooldown de 3 segundos entre submiss√µes</li>
                        <li>Timeout para mudan√ßa de falante</li>
                        <li>Preven√ß√£o de spam</li>
                        <li>Gest√£o de tentativas consecutivas</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h4>üé§ Palavras de Ativa√ß√£o</h4>
                    <ul class="feature-list">
                        <li>"resposta" - para dar uma resposta</li>
                        <li>"eu sei" - para indicar conhecimento</li>
                        <li>"√© o" / "√© a" - para respostas diretas</li>
                        <li>Configur√°vel e extens√≠vel</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h4>üß† Algoritmos Avan√ßados</h4>
                    <ul class="feature-list">
                        <li>Similarity matching (Levenshtein)</li>
                        <li>Normaliza√ß√£o de texto inteligente</li>
                        <li>Padr√µes de detec√ß√£o de ru√≠do</li>
                        <li>An√°lise contextual</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h3>üéÆ Simula√ß√£o de Jogo</h3>
            <div class="game-simulation">
                <div class="answer-container">
                    <input type="text" id="answer-input" placeholder="Digite ou fale sua resposta...">
                    <button id="submit-btn" class="btn-demo">Enviar</button>
                </div>
                
                <div class="demo-controls">
                    <h4>Controles de Demonstra√ß√£o:</h4>
                    <button class="btn-demo success" onclick="simulateGameStart()">
                        üéØ Iniciar Modo Jogo
                    </button>
                    <button class="btn-demo danger" onclick="simulateGameStop()">
                        ‚èπÔ∏è Parar Modo Jogo
                    </button>
                    <button class="btn-demo" onclick="testVoiceRecognition()">
                        üé§ Testar Reconhecimento
                    </button>
                    <button class="btn-demo" onclick="showStats()">
                        üìä Mostrar Estat√≠sticas
                    </button>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h3>üìã Como Usar em um Grupo</h3>
            <div class="instructions">
                <ol>
                    <li><strong>Ative o Modo Multi-Usu√°rio:</strong> Use o toggle no topo da p√°gina</li>
                    <li><strong>Configure Palavras de Ativa√ß√£o:</strong> Diga uma palavra de ativa√ß√£o antes da resposta</li>
                    <li><strong>Fale Claramente:</strong> O sistema precisa de boa qualidade de √°udio</li>
                    <li><strong>Aguarde o Cooldown:</strong> Espere 3 segundos entre respostas diferentes</li>
                    <li><strong>Use Frases Curtas:</strong> M√°ximo de 50 caracteres para melhor precis√£o</li>
                </ol>
                
                <div class="example-usage">
                    <h4>Exemplos de Uso:</h4>
                    <div class="examples">
                        <div class="example-good">
                            <strong>‚úÖ Bom:</strong> "Resposta Batman" ou "Eu sei √© o Superman"
                        </div>
                        <div class="example-bad">
                            <strong>‚ùå Evitar:</strong> "Batman" (sem palavra de ativa√ß√£o) ou frases muito longas
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h3>‚öôÔ∏è Configura√ß√µes T√©cnicas</h3>
            <div class="tech-config">
                <p><strong>Threshold de Confian√ßa:</strong> 60% (adaptativo at√© 90%)</p>
                <p><strong>Cooldown:</strong> 3000ms entre submiss√µes</p>
                <p><strong>Comprimento M√≠nimo:</strong> 3 caracteres</p>
                <p><strong>Comprimento M√°ximo:</strong> 50 caracteres</p>
                <p><strong>Tentativas de Restart:</strong> 3 m√°ximo</p>
                <p><strong>Filtro de Ru√≠do:</strong> Padr√µes regex para interjei√ß√µes</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script src="voice-recognition.js"></script>
    <script src="voice-recognition-multiuser.js"></script>
    <script src="multiuser-controls.js"></script>
    
    <script>
        // Simula√ß√µes para demonstra√ß√£o
        
        function simulateGameStart() {
            console.log('üéÆ Simulando in√≠cio do jogo...');
            
            // Simula o estado do jogo
            window.gameState = {
                isProcessingAnswer: false,
                currentRound: 1,
                maxRounds: 10
            };
            
            // Inicia reconhecimento se dispon√≠vel
            if (window.voiceRecognition && window.voiceRecognition.startGameListening) {
                window.voiceRecognition.startGameListening();
                showNotification('üéÆ Jogo iniciado! Reconhecimento de voz ativo.', 'success');
            } else {
                showNotification('üé§ Sistema de voz n√£o dispon√≠vel ainda.', 'warning');
            }
        }
        
        function simulateGameStop() {
            console.log('üéÆ Simulando parada do jogo...');
            
            if (window.voiceRecognition && window.voiceRecognition.stopGameListening) {
                window.voiceRecognition.stopGameListening();
                showNotification('üéÆ Jogo parado. Reconhecimento de voz desativado.', 'info');
            }
            
            window.gameState = null;
        }
        
        function testVoiceRecognition() {
            if (window.voiceRecognition) {
                const status = window.voiceRecognition.isCurrentlyListening() ? 'ouvindo' : 'inativo';
                const mode = window.voiceRecognitionMultiUser ? 'multi-usu√°rio' : 'padr√£o';
                showNotification(`üé§ Status: ${status} | Modo: ${mode}`, 'info');
            } else {
                showNotification('üé§ Sistema de voz n√£o inicializado.', 'warning');
            }
        }
        
        function showStats() {
            if (window.voiceRecognition) {
                const stats = {
                    isListening: window.voiceRecognition.isCurrentlyListening(),
                    isSupported: window.voiceRecognition.isSupported,
                    gameActive: window.voiceRecognition.gameActive,
                    lastResult: window.voiceRecognition.getLastResult() || 'Nenhum',
                    mode: window.voiceRecognitionMultiUser ? 'Multi-Usu√°rio' : 'Padr√£o'
                };
                
                console.log('üìä Estat√≠sticas do Sistema de Voz:', stats);
                showNotification('üìä Estat√≠sticas exibidas no console.', 'info');
            }
        }
        
        // Fun√ß√£o de submiss√£o simulada
        function submitAnswer() {
            const input = document.getElementById('answer-input');
            const answer = input.value.trim();
            
            if (answer) {
                console.log('üìù Resposta submetida:', answer);
                showNotification(`üìù Resposta: "${answer}"`, 'success');
                
                // Simula processamento
                if (window.gameState) {
                    window.gameState.isProcessingAnswer = true;
                    setTimeout(() => {
                        window.gameState.isProcessingAnswer = false;
                        input.value = '';
                    }, 1000);
                }
            }
        }
        
        // Fun√ß√£o de notifica√ß√£o simples
        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : type === 'warning' ? '#ffc107' : '#007bff'};
                color: white;
                padding: 12px 20px;
                border-radius: 6px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-size: 14px;
                max-width: 90%;
                text-align: center;
                animation: slideInDown 0.3s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutUp 0.3s ease-in';
                setTimeout(() => notification.remove(), 300);
            }, duration);
        }
        
        // Torna a fun√ß√£o dispon√≠vel globalmente
        window.showNotification = showNotification;
        window.submitAnswer = submitAnswer;
        
        // Event listener para o bot√£o de enviar
        document.getElementById('submit-btn').addEventListener('click', submitAnswer);
        
        // Event listener para Enter no input
        document.getElementById('answer-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitAnswer();
            }
        });
        
        console.log('üé§ Demonstra√ß√£o multi-usu√°rio carregada!');
    </script>
    
    <style>
        @keyframes slideInDown {
            from {
                transform: translateX(-50%) translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutUp {
            from {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            to {
                transform: translateX(-50%) translateY(-100%);
                opacity: 0;
            }
        }
        
        .notification {
            font-family: 'Arial', sans-serif;
        }
        
        .instructions ol {
            line-height: 1.6;
        }
        
        .instructions ol li {
            margin-bottom: 8px;
        }
        
        .example-usage {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .example-good, .example-bad {
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .example-good {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }
        
        .example-bad {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        
        .tech-config {
            font-family: monospace;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            line-height: 1.8;
        }
        
        .answer-container {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
        }
        
        #answer-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
        }
        
        #answer-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);
        }
    </style>
</body>
</html>
